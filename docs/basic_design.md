# 基本設計書（駐車場管理）

---

# **1. システム概要**

本システムは、会社駐車場の利用者（社員・協力業者・外注業者）および車両を効率的に管理し、違反記録や許可証発行、注意文書作成などをWebアプリケーションとして提供するものです。既存のExcel管理から脱却し、社内サーバ上のDocker環境で運用します。

# **2. システム構成図**

```
[ユーザーPC]
   │（Webブラウザ）
   │
   ▼
[フロントエンド（React/TypeScript）]
   │（API通信）
   │
   ▼
[バックエンド（Golang）]
   │（DB接続）
   │
   ▼
[PostgreSQL]
（全てDockerコンテナ上で稼働）
```

# **3. 機能一覧**

| **機能カテゴリ** | **機能名** | **概要** |
| --- | --- | --- |
| 車両・社員管理 | 社員・業者登録/編集/削除 | 社員・業者情報のCRUD |
|  | 車両登録/編集/削除 | 車両情報のCRUD、社員ごとに複数台登録可 |
|  | 免許証・保険・車検期限管理 | 期限情報の管理、期限切れアラート |
| 違反記録管理 | 違反記録登録/編集/削除 | 違反内容の登録、累積違反数管理 |
|  | 始末書提出管理 | 違反回数に応じた始末書提出フラグ |
| 注意文書作成 | 注意文書自動生成 | 違反内容に応じた注意メール・貼紙文書の自動生成 |
| 許可証発行 | 許可証発行（PDF/印刷） | 利用者区分ごとの許可証を発行 |
| CSVインポート | CSV読込による一括登録/更新 | 管理データのCSVインポート |
| ユーザー管理 | ログイン/ログアウト | 利用者認証、管理者権限 |

# **4. 画面設計（主要画面）**

## **4.1 ログイン画面**

- ユーザーID、パスワード入力
- 権限に応じて遷移先制御

## **4.2 ダッシュボード画面**

- 各種管理機能へのリンク
- 期限切れ・違反回数超過などのアラート表示

## **4.3 社員・業者管理画面**

- 一覧表示、検索、詳細表示、登録・編集・削除

## **4.4 車両管理画面**

- 社員/業者ごとの車両一覧・登録・編集・削除
- 期限情報（免許証・保険・車検）の表示

## **4.5 違反記録管理画面**

- 違反一覧・登録・編集・削除
- 始末書提出対象者の確認

## **4.6 許可証発行画面**

- 利用者区分ごとの許可証発行
- PDF出力・印刷

## **4.7 注意文書作成画面**

- 違反内容に応じた注意文の自動生成
- メール/貼紙用のフォーマット選択

## **4.8 CSVインポート画面**

- ファイル選択、インポート実行、結果表示

## **5. 業務フロー図（概要）**

1. 利用者・車両登録
2. 許可証発行
3. 駐車場利用状況の管理
4. 違反発生時の記録
5. 注意文書作成・配布
6. 違反累積管理・始末書提出管理

# **6. データ項目（主要テーブル概要）**

## **6.1 利用者（社員・業者）テーブル**

- 利用者ID
- 氏名
- 所属/業者名
- 連絡先
- 権限区分

## **6.2 車両テーブル**

- 車両ID
- 利用者ID（FK）
- ナンバー
- 車種
- 任意保険期限
- 車検期限

## **6.3 免許証テーブル**

- 利用者ID（FK）
- 免許証番号
- 有効期限

## **6.4 駐車場違反記録テーブル**

- 違反ID
- 利用者ID（FK）
- 車両ID（FK）
- 違反種別
- 発生日
- 始末書提出要否

## **6.5 許可証テーブル**

- 許可証ID
- 利用者ID（FK）
- 許可証種別
- 発行日・有効期限

# **7. 権限設計**

| **権限区分** | **主な操作権限** |
| --- | --- |
| 管理者 | 全データの登録・編集・削除 |
| 一般利用者 | 自分の情報・車両の参照・一部編集・違反履歴の確認 |

# **8. 外部インターフェース**

- CSVファイルインポート機能（利用者・車両・違反記録など）

# **9. システム環境・運用**

- 社内サーバ上のDockerコンテナ（Golang, React/TypeScript, PostgreSQL）
- 社内ネットワーク内のみアクセス可

# **10. セキュリティ・運用**

- ログイン認証（パスワード管理）
- 操作ログの記録
- 定期バックアップ

# **11. 今後の拡張案（例）**

- モバイル対応
- QRコードによる許可証管理
- 駐車場利用状況のリアルタイム表示